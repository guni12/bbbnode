{"version":3,"sources":["helpers/calendar.js","components/CustomInput.js","hub/Settings.js"],"names":["zeroPad","Date","getFullYear","getMonth","value","length","padStart","isDate","date","Object","prototype","toString","call","isValidDate","Number","isNaN","valueOf","getDateISO","getDate","join","CustomInput","className","onClick","this","props","placeholderText","React","Component","baseapi","window","location","hostname","url","urledit","spot","control","propTypes","PropTypes","func","string","object","registerLocale","sv","console","log","Settings","_isMounted","handleAreaChange","event","updateSettings","updates","handlePercentChange","handleCurrencyChange","fetch","then","spotresults","json","spotdata","data","catch","err","name","getDsmText","what","undefined","getModeText","getModeVariant","handleControlChange","preventDefault","whatNow","handleDsmChange","handleFromChange","dateval","setState","startDate","handleToChange","toDate","col","val","method","body","headers","res","status","Error","error","state","setDefaultLocale","dsmon","currency","area","percenton","percent","lat","long","awayto","awayfrom","test","bind","results","from","to","start","cont","percenttext","areatext","currencytext","lattext","longtext","fromtext","totext","type","variant","id","onSelect","title","Item","eventKey","size","block","customInput","selected","dateFormat","locale","calendarClassName","showWeekNumbers","minDate","onChange"],"mappings":"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","file":"static/js/6.3a3f3573.chunk.js","sourcesContent":["// (int) The current year\nexport const THIS_YEAR = +(new Date().getFullYear());\n\n// (int) The current month starting from 1 - 12\n// 1 => January, 12 => December\nexport const THIS_MONTH = +(new Date().getMonth()) + 1;\n\n// Week days names and shortnames\nexport const WEEK_DAYS = {\n  Sunday: \"Sun\",\n  Monday: \"Mon\",\n  Tuesday: \"Tue\",\n  Wednesday: \"Wed\",\n  Thursday: \"Thu\",\n  Friday: \"Fri\",\n  Saturday: \"Sat\"\n}\n\n// Calendar months names and shortnames\nexport const CALENDAR_MONTHS = {\n  January: \"Jan\",\n  February: \"Feb\",\n  March: \"Mar\",\n  April: \"Apr\",\n  May: \"May\",\n  June: \"Jun\",\n  July: \"Jul\",\n  August: \"Aug\",\n  September: \"Sep\",\n  October: \"Oct\",\n  November: \"Nov\",\n  December: \"Dec\"\n}\n\n// Weeks displayed on calendar\nexport const CALENDAR_WEEKS = 6;\n\n// Pads a string value with leading zeroes(0) until length is reached\n// For example: zeroPad(5, 2) => \"05\"\nexport const zeroPad = (value, length) => {\n  return `${value}`.padStart(length, '0');\n}\n\n// (int) Number days in a month for a given year from 28 - 31\nexport const getMonthDays = (month = THIS_MONTH, year = THIS_YEAR) => {\n  const months30 = [4, 6, 9, 11];\n  const leapYear = year % 4 === 0;\n\n  return month === 2\n    ? leapYear\n      ? 29\n      : 28\n    : months30.includes(month)\n      ? 30\n      : 31;\n}\n\n// (int) First day of the month for a given year from 1 - 7\n// 1 => Sunday, 7 => Saturday\nexport const getMonthFirstDay = (month = THIS_MONTH, year = THIS_YEAR) => {\n  return +(new Date(`${year}-${zeroPad(month, 2)}-01`).getDay()) + 1;\n}\n\n// (bool) Checks if a value is a date - this is just a simple check\nexport const isDate = date => {\n  const isDate = Object.prototype.toString.call(date) === '[object Date]';\n  const isValidDate = date && !Number.isNaN(date.valueOf());\n  \n  return isDate && isValidDate;\n}\n\n// (bool) Checks if two date values are of the same month and year\nexport const isSameMonth = (date, basedate = new Date()) => {\n  \n  if (!(isDate(date) && isDate(basedate))) return false;\n\n  const basedateMonth = +(basedate.getMonth()) + 1;\n  const basedateYear = basedate.getFullYear();\n\n  const dateMonth = +(date.getMonth()) + 1;\n  const dateYear = date.getFullYear();\n\n  return (+basedateMonth === +dateMonth) && (+basedateYear === +dateYear);\n  \n}\n\n// (bool) Checks if two date values are the same day\nexport const isSameDay = (date, basedate = new Date()) => {\n  \n  if (!(isDate(date) && isDate(basedate))) return false;\n\n  const basedateDate = basedate.getDate();\n  const basedateMonth = +(basedate.getMonth()) + 1;\n  const basedateYear = basedate.getFullYear();\n\n  const dateDate = date.getDate();\n  const dateMonth = +(date.getMonth()) + 1;\n  const dateYear = date.getFullYear();\n\n  return (+basedateDate === +dateDate) && (+basedateMonth === +dateMonth) && (+basedateYear === +dateYear);\n  \n}\n\n// (string) Formats the given date as YYYY-MM-DD\n// Months and Days are zero padded\nexport const getDateISO = (date = new Date()) => {\n  \n  if (!isDate(date)) return null;\n\n  return [\n    date.getFullYear(),\n    zeroPad(+date.getMonth() + 1, 2),\n    zeroPad(+date.getDate(), 2)\n  ].join('-');\n  \n}\n\n// ({month, year}) Gets the month and year before the given month and year\n// For example: getPreviousMonth(1, 2000) => {month: 12, year: 1999}\n// while: getPreviousMonth(12, 2000) => {month: 11, year: 2000}\nexport const getPreviousMonth = (month, year) => {\n  const prevMonth = (month > 1) ? month - 1 : 12;\n  const prevMonthYear = (month > 1) ? year : year - 1;\n\n  return { month: prevMonth, year: prevMonthYear };\n}\n\n// ({month, year}) Gets the month and year after the given month and year\n// For example: getNextMonth(1, 2000) => {month: 2, year: 2000}\n// while: getNextMonth(12, 2000) => {month: 1, year: 2001}\nexport const getNextMonth = (month, year) => {\n  const nextMonth = (month < 12) ? month + 1 : 1;\n  const nextMonthYear = (month < 12) ? year : year + 1;\n\n  return { month: nextMonth, year: nextMonthYear };\n}\n\n// Calendar builder for a month in the specified year\n// Returns an array of the calendar dates.\n// Each calendar date is represented as an array => [YYYY, MM, DD]\n\nexport default (month = THIS_MONTH, year = THIS_YEAR) => {\n  \n  // Get number of days in the month and the month's first day\n  \n  const monthDays = getMonthDays(month, year);\n  const monthFirstDay = getMonthFirstDay(month, year);\n\n  // Get number of days to be displayed from previous and next months\n  // These ensure a total of 42 days (6 weeks) displayed on the calendar\n  \n  const daysFromPrevMonth = monthFirstDay - 1;\n  const daysFromNextMonth = (CALENDAR_WEEKS * 7) - (daysFromPrevMonth + monthDays);\n\n  // Get the previous and next months and years\n  \n  const { month: prevMonth, year: prevMonthYear } = getPreviousMonth(month, year);\n  const { month: nextMonth, year: nextMonthYear } = getNextMonth(month, year);\n\n  // Get number of days in previous month\n  const prevMonthDays = getMonthDays(prevMonth, prevMonthYear);\n\n  // Builds dates to be displayed from previous month\n  \n  const prevMonthDates = [...new Array(daysFromPrevMonth)].map((n, index) => {\n    const day = index + 1 + (prevMonthDays - daysFromPrevMonth);\n    return [ prevMonthYear, zeroPad(prevMonth, 2), zeroPad(day, 2) ];\n  });\n\n  // Builds dates to be displayed from current month\n  \n  const thisMonthDates = [...new Array(monthDays)].map((n, index) => {\n    const day = index + 1;\n    return [year, zeroPad(month, 2), zeroPad(day, 2)];\n  });\n\n  // Builds dates to be displayed from next month\n  \n  const nextMonthDates = [...new Array(daysFromNextMonth)].map((n, index) => {\n    const day = index + 1;\n    return [nextMonthYear, zeroPad(nextMonth, 2), zeroPad(day, 2)];\n  });\n\n  // Combines all dates from previous, current and next months\n  return [ ...prevMonthDates, ...thisMonthDates, ...nextMonthDates ];\n  \n}","import React from 'react';\n\nclass CustomInput extends React.Component {\n\n  render () {\n    return (\n      <button\n        className=\"btn-primary btn-light\"\n        onClick={this.props.onClick}>\n        {this.props.placeholderText}\n      </button>\n    )\n  }\n}\n\nexport default CustomInput;\n","import React, { Component } from 'react';\nimport \"./Hub.css\";\nimport Button from 'react-bootstrap/Button';\nimport { Link } from 'react-router-dom';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport {getDateISO} from \"../helpers/calendar\";\nimport DatePicker, { registerLocale, setDefaultLocale } from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { sv } from 'date-fns/locale';\n//import { format, formatDistance, formatRelative, subDays } from 'date-fns';\nimport CustomInput from \"../components/CustomInput\";\nimport PropTypes from 'prop-types';\n\nconst baseapi = 'http://' + window.location.hostname + ':1337';\n\nconst url = baseapi + \"/settings\";\nconst urledit = baseapi + \"/editsettings\";\nconst spot = baseapi + \"/spotcal\";\nconst control = baseapi + \"/controlupdate\";\n\n/*\nimport calendar, {\n  isDate,\n  isSameDay,\n  isSameMonth,\n  getDateISO,\n  getNextMonth,\n  getPreviousMonth,\n  WEEK_DAYS,\n  CALENDAR_MONTHS\n} from \"../helpers/calendar\";*/\n\nCustomInput.propTypes = {\n  onClick: PropTypes.func,\n  value: PropTypes.string,\n  placeholderText: PropTypes.object\n};\n\nregisterLocale('sv', sv);\nconsole.log(sv);\n\nexport default class Settings extends Component {\n  _isMounted = false;\n\n  constructor(props) {\n    super(props);\n    console.log(props);\n\n    registerLocale(\"sv\", sv);\n    setDefaultLocale(\"sv\");\n    this.state = {\n      dsmon: 0,\n      currency: \"currency\",\n      area: \"area\",\n      percenton: 0,\n      percent: 0,\n      lat: \"Latitud\",\n      long: \"Longitud\",\n      awayto: \"\",\n      awayfrom: \"\",\n      startDate: new Date(),\n      toDate: new Date(),\n      test: getDateISO(\"2019-07-23\"),\n    }\n    this.handleAreaChange = this.handleAreaChange.bind(this);\n    this.handlePercentChange = this.handlePercentChange.bind(this);\n    this.handleCurrencyChange = this.handleCurrencyChange.bind(this);\n    this.handleDsmChange = this.handleDsmChange.bind(this);\n    this.handleFromChange = this.handleFromChange.bind(this);\n    this.handleToChange = this.handleToChange.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    fetch(url)\n    .then(results => {\n      //console.log(results);\n      return results.json();\n    })\n    .then(data => {\n      // eslint-disable-next-line\n      if (this._isMounted) {\n        console.log(data);\n        this.setState({area: data.area});\n        this.setState({currency: data.currency});\n        this.setState({lat: data.lat});\n        this.setState({long: data.long});\n        this.setState({percent: data.percent});\n        this.setState({percenton: data.percenton});\n        this.setState({dsmon: data.dsmon});\n        let from = data.awayfrom !== null ? data.awayfrom : this.state.awayfrom;\n        let to = data.awayfrom !== null ? data.awayto : this.state.awayto;\n        this.setState({awayfrom: from});\n        this.setState({awayto: to});\n        let start = data.awayfrom !== null ? new Date(data.awayfrom) : new Date();\n        let cont = data.awayfrom !== null ? new Date(data.awayfrom) : new Date();\n        this.setState({startDate: start});\n        this.setState({toDate: cont});\n      }\n    })\n    .catch(err => {\n      console.log(err);\n      if (err.name === 'AbortError') return;\n      throw err;\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n\n  handleAreaChange = (event) => {\n    console.log('Area:' + event);\n    this.updateSettings(\"area\", event);\n    this.updates();\n  }\n\n  handlePercentChange = (event) => {\n    console.log('Percent:' + event);\n    this.updateSettings(\"percent\", event);\n    this.updates();\n  }\n\n  handleCurrencyChange = (event) => {\n      console.log(\"Currency:\", event);\n      this.updateSettings(\"currency\", event);\n      this.updates();\n  }\n\n  updates = () => {\n    fetch(spot)\n      .then( spotresults => {\n          return spotresults.json();\n      })\n      .then( spotdata => {\n          console.log(\"spotdata\", spotdata);\n          return fetch(control)\n      })\n      .then( data => {\n          console.log(\"controldata\", data);\n      })\n      .catch(err => {\n        console.log(err);\n        if (err.name === 'AbortError') return;\n        throw err;\n      });\n  }\n\n  getDsmText = (what) => {\n    if (what !== undefined) {\n        return what === 1 ? \"Elnätsbolag styr\" : \"Elnätsbolag styr ej\";\n    }\n  }\n\n  getModeText = (what) => {\n    if (what !== undefined) {\n        return what === 1 ? \"Du styr enligt elpris\" : \"Du styr ej enligt elpris\";\n    }\n  }\n\n  getModeVariant = (what) => {\n      //console.log(what, typeof(what));\n    if (what !== undefined) {\n      return what === 1 ? \"success\" : \"danger\";\n    }\n  }\n\n  handleControlChange = (what, event) => {\n      console.log(what, event);\n    event.preventDefault();\n    if (what !== undefined) {\n      let whatNow = what === 1 ? 0 : 1;\n      console.log(\"Det var \" + what + \" Ska nu vara: \", whatNow)\n      this.updateSettings(\"percenton\", whatNow);\n      this.updates();\n    }\n  }\n\n  handleDsmChange = (what, event) => {\n    console.log(\"Dsm: \", what, event);\n    event.preventDefault();\n    if (what !== undefined) {\n      let whatNow = what === 1 ? 0 : 1;\n      console.log(\"Det var \" + what + \" Ska nu vara: \", whatNow)\n      this.updateSettings(\"dsmon\", whatNow);\n      this.updates();\n    }\n  }\n\n  handleFromChange = (event) => {\n      console.log(\"From:\", getDateISO(event));\n      this.updateSettings(\"awayfrom\", getDateISO(event));\n      let dateval = new Date(getDateISO(event));\n      this.setState({startDate: dateval});\n      this.updates();\n  }\n\n  handleToChange = (event) => {\n      console.log(\"To:\", getDateISO(event));\n      this.updateSettings(\"awayto\", getDateISO(event));\n      let dateval = new Date(getDateISO(event));\n      this.setState({toDate: dateval});\n      this.updates();\n  }\n\n  updateSettings = (col, val) => {\n    console.log(col, val);\n    fetch(urledit, {\n      method: 'POST',\n      body: 'column=' + col + '&value=' + val+ '&id=' + 1,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n    .then(res => {\n      console.log(res);\n      if (res.status === 200) {\n        console.log(\"Uppdaterat\");\n        this.setState({\n          [col]: val\n        });\n        console.log(this.state);\n      } else {\n        const error = new Error(res.error);\n        throw error;\n      }\n    })\n    .catch(err => {\n      console.error(err);\n    });\n  }\n\n  render() {\n    let percenttext = <span><span className='redtext'>{ this.state.percent }</span> &#37;</span>;\n    let areatext = <span>Område <span className='redtext'>{ this.state.area }</span></span>;\n    let currencytext = <span>Valuta <span className='redtext'>{ this.state.currency }</span></span>;\n    let lattext = <span>Latitud <span className='redtext'>{ this.state.lat }</span></span>;\n    let longtext = <span>Longitud <span className='redtext'>{ this.state.long }</span></span>;\n    let fromtext = <span><span className='twofive'>Bortrest från: </span><span className='redtext'>{ this.state.awayfrom }</span></span>;\n    let totext = <span><span className='twofive'>Bortrest till: </span><span className='redtext'>{ this.state.awayto }</span></span>;\n\n    return (\n      <div className=\"hub-page\">\n        <h1>Inställningar</h1>\n        <div className=\"d-flex flex-column\">\n          <div className=\"dropContainer\">\n            <ToggleButton type=\"checkbox\" className=\"settings-toggle\" onClick={this.handleControlChange.bind(this, this.state.percenton)} variant={this.getModeVariant(this.state.percenton)} >\n              {this.getModeText(this.state.percenton)}\n            </ToggleButton>\n          </div>\n          <div className=\"dropContainer\">\n            <ToggleButton type=\"checkbox\" className=\"settings-toggle\" onClick={this.handleDsmChange.bind(this, this.state.dsmon)} variant={this.getModeVariant(this.state.dsmon)} >\n              {this.getDsmText(this.state.dsmon)}\n            </ToggleButton>\n          </div>\n        </div>\n        <DropdownButton id=\"dropdown-area\" onSelect={this.handleAreaChange} title={areatext}>\n            <Dropdown.Item eventKey=\"SE1\">SE1</Dropdown.Item>\n            <Dropdown.Item eventKey=\"SE2\">SE2</Dropdown.Item>\n            <Dropdown.Item eventKey=\"SE3\">SE3</Dropdown.Item>\n            <Dropdown.Item eventKey=\"SE4\">SE4</Dropdown.Item>\n            <Dropdown.Item eventKey=\"SP1\">SP1</Dropdown.Item>\n            <Dropdown.Item eventKey=\"DK1\">DK1</Dropdown.Item>\n            <Dropdown.Item eventKey=\"EE\">EE</Dropdown.Item>\n            <Dropdown.Item eventKey=\"FI\">FI</Dropdown.Item>\n            <Dropdown.Item eventKey=\"LT\">LT</Dropdown.Item>\n            <Dropdown.Item eventKey=\"LV\">LV</Dropdown.Item>\n            <Dropdown.Item eventKey=\"NO1\">NO1</Dropdown.Item>\n            <Dropdown.Item eventKey=\"NO2\">NO2</Dropdown.Item>\n            <Dropdown.Item eventKey=\"NO3\">NO3</Dropdown.Item>\n            <Dropdown.Item eventKey=\"NO4\">NO4</Dropdown.Item>\n            <Dropdown.Item eventKey=\"NO5\">NO5</Dropdown.Item>\n        </DropdownButton>\n        <DropdownButton id=\"dropdown-currency\" onSelect={this.handleCurrencyChange} title={currencytext}>\n            <Dropdown.Item eventKey=\"SEK\">SEK</Dropdown.Item>\n            <Dropdown.Item eventKey=\"DKK\">DKK</Dropdown.Item>\n            <Dropdown.Item eventKey=\"NOK\">NOK</Dropdown.Item>\n            <Dropdown.Item eventKey=\"EUR\">EUR</Dropdown.Item>\n        </DropdownButton>\n        <DropdownButton id=\"dropdown-percent\" onSelect={this.handlePercentChange} title={percenttext}>\n            <Dropdown.Item eventKey=\"0\">0</Dropdown.Item>\n            <Dropdown.Item eventKey=\"1\">1</Dropdown.Item>\n            <Dropdown.Item eventKey=\"2\">2</Dropdown.Item>\n            <Dropdown.Item eventKey=\"3\">3</Dropdown.Item>\n            <Dropdown.Item eventKey=\"4\">4</Dropdown.Item>\n            <Dropdown.Item eventKey=\"5\">5</Dropdown.Item>\n            <Dropdown.Item eventKey=\"6\">6</Dropdown.Item>\n            <Dropdown.Item eventKey=\"7\">7</Dropdown.Item>\n            <Dropdown.Item eventKey=\"8\">8</Dropdown.Item>\n            <Dropdown.Item eventKey=\"9\">9</Dropdown.Item>\n            <Dropdown.Item eventKey=\"10\">10</Dropdown.Item>\n            <Dropdown.Item eventKey=\"11\">11</Dropdown.Item>\n            <Dropdown.Item eventKey=\"12\">12</Dropdown.Item>\n            <Dropdown.Item eventKey=\"13\">13</Dropdown.Item>\n            <Dropdown.Item eventKey=\"14\">14</Dropdown.Item>\n            <Dropdown.Item eventKey=\"15\">15</Dropdown.Item>\n            <Dropdown.Item eventKey=\"16\">16</Dropdown.Item>\n            <Dropdown.Item eventKey=\"17\">17</Dropdown.Item>\n            <Dropdown.Item eventKey=\"18\">18</Dropdown.Item>\n            <Dropdown.Item eventKey=\"19\">19</Dropdown.Item>\n            <Dropdown.Item eventKey=\"20\">20</Dropdown.Item>\n        </DropdownButton>\n        <Button variant=\"light\" size=\"lg\" block><Link to=\"/settings\" className=\"buttonstyle\">{lattext}</Link></Button>\n        <Button variant=\"light\" size=\"lg\" block><Link to=\"/settings\" className=\"buttonstyle\">{longtext}</Link></Button>\n        <div className=\"btn-light btn-block\">\n          <DatePicker\n            customInput={<CustomInput placeholderText={fromtext} />}\n            selected={this.state.startDate}\n            dateFormat=\"yyyy-MM-dd\"\n            locale=\"sv\"\n            className=\".btn-primary datefrom\"\n            calendarClassName=\"datefrom\"\n            showWeekNumbers\n            minDate={new Date()}\n            onChange={this.handleFromChange}\n          /></div>\n          <div className=\"btn-light btn-block\">\n          <DatePicker\n            customInput={<CustomInput placeholderText={totext} />}\n            selected={this.state.toDate}\n            dateFormat=\"yyyy-MM-dd\"\n            locale=\"sv\"\n            className=\".btn-primary dateto\"\n            calendarClassName=\"dateto\"\n            minDate={new Date(this.state.awayfrom)}\n            showWeekNumbers\n            onChange={this.handleToChange}\n          />\n        </div>\n        <Button variant=\"light\" size=\"lg\" block><Link to=\"/zones\" className=\"buttonstyle\">Dina zoner</Link></Button>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}